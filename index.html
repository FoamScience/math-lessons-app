<!DOCTYPE HTML>
<!--
	Ethereal by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="ar">
	<head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-56E9ZZ99WZ"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-56E9ZZ99WZ');
        </script>
	
	<meta charset="utf-8">
		<title>Elwardi's Math Lessons</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="public/assets/css/main.css" />
		<noscript><link rel="stylesheet" href="public/assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Wrapper -->
					<div id="wrapper">

						<!-- Panel (Banner) -->
							<section class="panel banner right">
								<div class="content color0 span-3-75 align-right">
									<h1 class="major">فاضلي محمد<br /> الوردي</h1>
									<p>دروس خصوصية في الرياضيات (4,3 متوسط و 2,1 ثانوي)</p>
									<ul class="actions">
										<li><a href="#first" class="button primary color1 circle icon solid fa-angle-right">Next</a></li>
									</ul>
								</div>
								<div class="image filtered span-1-75" data-position="25% 25%">
									<img src="public/images/pic01.jpg" alt="" />
								</div>
							</section>

						<!-- Panel (Spotlight) -->
							<section class="panel spotlight medium right color1" id="first">
								<div class="content span-7 align-right">
                                    <p>
                                    2012/2013 <cite dir="rtl">  &#8592; فائز بأولمبياد الرياضيات الوطني <br>
                                    &#8592; ماستر في هندسة الإنتاج البترولي </cite><br> <br>
                                    
                                    <cite dir="rtl"> &#8592; حاز عدة مرات على أفضل وأبسط حل لمشكلة الرياضيات الأسبوعية من جامعة 
                                        <span dir="ltr"> Purdue </span>
                                    </cite>
                                    <br> <br>
                                    0783 138 865, 0658 189 501 <span dir="rtl"> رقم الهاتف :</span> <br>
                                    elwardifadeli@gmail.com <span dir="rtl"> البريد الالكتروني: </span><br>
                                    2000 DZD <span dir="rtl"> حقوق التسجيل : </span>
                                    </p>
								</div>
								<div class="image filtered tinted" data-position="top left">
									<img src="public/images/pic02.jpg" alt="" />
                                </div>
							</section>

						<!-- Panel -->
							<section class="panel color1">
								<div class="intro joined">
									<h2 class="major">الموقع</h2>
									<p>بالقرب من مسجد الفلاح ، خنشلة</p>
								</div>
								<div class="inner">
			                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6503.21289732851!2d7.144161182712965!3d35.415004336489076!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xd84eebd9acd41e94!2zRGFyIEVsIEFya2FtINiv2KfYsSDYp9mE2KPYsdmC2YU!5e0!3m2!1sen!2sdz!4v1607100335423!5m2!1sen!2sdz" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
								</div>
							</section>

						<!-- Panel -->
							<section class="panel color2-alt">
								<div class="inner columns aligned joined">
									<div class="span-6-5 align-right">
                                        <!--<h3 class="major">التسجيل</h3>-->
                                        <form role="form"> 
											<div class="fields">
												<div class="field quarter">
													<label for="demo-name">الاسم</label>
													<input class="align-right" type="text" name="demo-name" id="reserve_name" value="" placeholder="..." />
												</div>
												<div class="field quarter">
													<label for="demo-email">البريد الإلكتروني</label>
													<input type="email" name="demo-email" id="reserve_email" value="" placeholder="foulan@example.com" />
												</div>
												<div class="field quarter">
													<label for="demo-category">المستوى</label>
													<div class="select-wrapper">
														<select name="demo-category" id="reserve_level">
															<option value="">-</option>
															<option value="1" dir="rtl">1 متوسط</option>
															<option value="2" dir="rtl">2 متوسط</option>
															<option value="3" dir="rtl">3 ثانوي</option>
															<option value="4" dir="rtl">4 ثانوي</option>
														</select>
													</div>
												</div>
												<div class="field quarter">
													<label for="demo-phone">رقم هاتف الولي</label>
													<input type="text" name="demo-phone" id="reserve_phone" value="" placeholder="0..." />
												</div>
												<div class="field">
													<label for="demo-message">اختر الفترات الزمنية المتاحة لديك (ابيض: غير متاح)</label>
                                                    <div id="input" data-name="name"></div>
                                                    <input type="hidden" id="result"></pre>
												</div>
											</div>
											<ul class="actions">
	        						            <button type="submit" class="primary submit conor2">تسجيل</button>
												<li><input type="reset" value="Reset" /></li>
											</ul>
										</form>
									</div>
								</div>
							</section>

						<!-- Copyright -->
							<div class="copyright">&copy; Elwardi. Design: <a href="https://html5up.net">HTML5 UP</a>.</div>

					</div>

			</div>

		<!-- Scripts -->
			<script src="public/assets/js/jquery.min.js"></script>
			<script src="public/assets/js/browser.min.js"></script>
			<script src="public/assets/js/breakpoints.min.js"></script>
			<script src="public/assets/js/main.js"></script>

        <script src="https://unpkg.com/timeslot-selector@latest/src/index.js"></script>
        <script>
            (() => {
                const node = document.querySelector('#input')

                const state = {
                    5 : [8,9],
                    6 : [10,11,14,15,16,17],
                }

                // change callback
                function handleStateChange(newState) {
                    console.log(newState)
                }

                const options = {
                    // custom days names (it's default values)
                    days: {
                        0: 'الأحد',
                        1: 'الإثنين',
                        2: 'الثلاثاء',
                        3: 'الأربعاء',
                        4: 'الخميس',
                        5: 'الجمعة',
                        6: 'السبت',
                    },
                    startHour: 7,
                    endHour: 18,
                }

                const resultNode = document.querySelector('#result')

                resultNode.value = JSON.stringify(state)

                window.weekHoursPicker(node, state, handleStateChange, options, (model) => {
                    resultNode.value = JSON.stringify(model)
                })
            })()
        </script>

	</body>
</html>

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

	// In this code below we create the Front-end Javascript which "POSTS" our form data to our express server.
	// In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
	// Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
	// In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

	$(".submit").on("click", function(){

		// Here we grab the form elements
		var newReservation = {
			customerName: $('#reserve_name').val().trim(),
			phoneNumber: $('#reserve_phone').val().trim(),
			customerEmail: $('#reserve_email').val().trim(),
			level: $('#reserve_level').val().trim(),
            timeSlots: $('#result').val().trim()
		};

		//console.log(newReservation);

		// This line is the magic. It's very similar to the standard ajax function we used.
		// Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
		// The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
		// depending on if a tables is available or not.

		// Here we get the location of the root page.
		// We use this instead of explicitly saying the URL is localhost:3001 because the url will change when we deploy.
		var currentURL = window.location.href;
        console.log(currentURL)

	    $.post(currentURL + "/api/new", newReservation,
	    function(data){

	    	// If a table is available... tell user they are booked.
	    	if(data == true){
	    		alert("Yay! You are officially booked!")
	    	}

	    	// If a table is available... tell user they on the waiting list.
	    	if(data == false){
	    		alert("Sorry you are on the wait list")
	    	}

            // Redirect to registered page
            window.location.href = "/registered";
	    	// Clear the form when submitting
    		//$('#reserve_name').val("");
			//$('#reserve_phone').val("");
			//$('#reserve_email').val("");
			//$('#reserve_uniqueID').val("");

	    });

return false;

});

</script>
